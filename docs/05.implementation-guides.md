---
title: IG をインストールする
lastUpdated: 2024-07-14T11:31:00GMT+07:00
---

一通りドキュメントにあるクイックスタートの内容は試してみました。

そこでサーバーの設定ファイル `configs/original.application.yaml` を見てみると、`implementationguides` というプロパティが 110 行目あたりにありました。そこで、一部コメントアウトを外して実際に IG をインストールしてみましょう。

# パッケージをダウンロードしてインストールしてみる

パッケージレジストリ (packages.fhir.org) なるものからインストールすることもできるようですが、今回は `package.tgz` をダウンロードしてくる方式を試そうと思います。

`configs/original.application.yaml` を以下のように変更して `configs/ig.application.yaml` を作成しました。

```diff
-   #implementationguides:
+   implementationguides:
    ###    example from registry (packages.fhir.org)
    #  swiss:
    #    name: swiss.mednet.fhir
    #    version: 0.8.0
    #    reloadExisting: false
    #    installMode: STORE_AND_INSTALL
    #      example not from registry
-   #      ips_1_0_0:
-   #        packageUrl: https://build.fhir.org/ig/HL7/fhir-ips/package.tgz
-   #        name: hl7.fhir.uv.ips
-   #        version: 1.0.0
+     ips_1_0_0:
+       packageUrl: https://build.fhir.org/ig/HL7/fhir-ips/package.tgz
+       name: hl7.fhir.uv.ips
+       version: 1.0.0
```

この設定ファイルを読み込ませるように以下のような `compose/compose.ig-ips.yml` を作成します。見ての通り、今回はデータの永続化はしないようにします。

```yaml
services:
  fhir:
    container_name: fhir
    image: "hapiproject/hapi:latest"
    ports:
      - "8080:8080"
    configs:
      - source: hapi
        target: /app/config/application.yaml

configs:
  hapi:
     file: ../configs/ig.application.yaml
```

準備が整ったので、以下のコマンドでサーバーを起動してみましょう。
